---
# Test Certificate using Let's Encrypt Staging Issuer
# This certificate is for testing purposes only (not trusted by browsers)
apiVersion: cert-manager.io/v1
kind: Certificate
metadata:
  name: test-cert-staging
  namespace: default
spec:
  # Secret where certificate will be stored
  secretName: test-cert-staging-tls

  # Certificate issuer reference
  issuerRef:
    name: letsencrypt-staging
    kind: ClusterIssuer

  # Common name for the certificate
  commonName: test.chocolandiadc.com

  # DNS names covered by this certificate
  dnsNames:
    - test.chocolandiadc.com

  # Certificate renewal configuration
  # Renew 30 days before expiry (Let's Encrypt certs are valid for 90 days)
  renewBefore: 720h  # 30 days

  # Private key configuration
  privateKey:
    algorithm: RSA
    encoding: PKCS1
    size: 2048
    rotationPolicy: Always
